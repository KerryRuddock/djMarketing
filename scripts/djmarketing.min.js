$(function(){function n(n){if(e(h)){u=window.innerHeight-n,c=window.innerWidth*w.height/w.width,v=u-c,v=v<0?0:v;if(i().width>1024?(h.style.height=c+p+"px",m.style.height=p+1+"px",m.style.bottom=Math.round(u-(c+p))+"px"):(h.style.height=u+"px",m.style.height=v+1+"px",m.style.bottom=Math.round(u-(c+v))+"px"),a){var t=window.getComputedStyle(h).getPropertyValue("height"),o=window.getComputedStyle(h).getPropertyValue("width");document.getElementById("bg-img1-filler").innerHTML="Height: "+t+" Width: "+o}}}function e(n){var e=$(window).scrollTop(),i=e+$(window).height(),t=$(n).offset().top;return t+$(n).height()>=e||t>=i}function i(){var n=window,e="inner";return"innerWidth"in window||(e="client",n=document.documentElement||document.body),{width:n[e+"Width"],height:n[e+"Height"]}}function t(n,e,i,t){(e>i||e<=0||i<=0)&&console.log("bad low/high parameters in removeBg");for(var a=e;a<=i;a++)a!=t&&n.hasClass("bg-img"+a)&&n.removeClass("bg-img"+a)}var a=!1;console.log("dom loaded"),$("#cover").hide();var o=$(".bg-img.bg-img1"),s=$(".bg-img"),l=$("#nav-info");$(window).on("scroll",function(){var n=window.innerHeight,e=0,i=1,g=n,d=n,r=3*n,h=3*n,m=5*n,b=5*n,w=7*n;e=Number($(window).scrollTop().toFixed(2)),i=Math.floor(Number(e/n)+1),e>=0&&e<g?(s.hasClass("bg-img1")||(t(s,1,4,1),s.addClass("bg-img1")),o.hasClass("animTurntableLights")||o.addClass("animTurntableLights")):e>=d&&e<=r?(s.hasClass("bg-img2")||(t(s,1,4,2),s.addClass("bg-img2")),o.hasClass("animTurntableLights")&&o.removeClass("animTurntableLights")):e>=h&&e<=m?(s.hasClass("bg-img3")||(t(s,1,4,3),s.addClass("bg-img3")),o.hasClass("animTurntableLights")&&o.removeClass("animTurntableLights")):e>=b&&e<=w&&(s.hasClass("bg-img4")||(t(s,1,4,4),s.addClass("bg-img4")),o.hasClass("animTurntableLights")&&o.removeClass("animTurntableLights")),a&&l.html("Page# "+i+" Pos: "+e)});var g=$("#pro1");g.toggleClass("animEvent1"),$("#pro2").toggleClass("animEvent2"),$("#pro3").toggleClass("animEvent3"),$("#pro4").toggleClass("animEvent4"),g.on("animationend webkitAnimationEnd",function(n){"fadeOutUp"===n.originalEvent.animationName&&(console.log("promo animation ended"),g.off("animationend webkitAnimationEnd"),o.toggleClass("animTurntableLights"))});var d=$(".navbar-fixed-top"),r=$(".collapse");r.on("show.bs.collapse",function(){d.hasClass("navbar-bg-long")||d.addClass("navbar-bg-long")}),r.on("hide.bs.collapse",function(){d.hasClass("navbar-bg-long")&&d.removeClass("navbar-bg-long")}),$(window).on("resize",function(){$(window).width()>767&&d.hasClass("navbar-bg-long")&&(d.removeClass("navbar-bg-long"),r.collapse("hide"))}),$(".animation-off").waypoint(function(){var n=this.element;$(n).addClass("animatedFadeInUp")},{offset:"90%"}),$("body").keydown(function(n){122==(n.keyCode||n.which)&&n.preventDefault()});var h=document.getElementById("intro"),m=document.getElementById("bg-img1-filler"),b=parseInt(window.getComputedStyle(h,"::before").getPropertyValue("background-position-y"),10),w=new Image;w.src="https://res.cloudinary.com/djhkdplck/image/upload/v1488045779/turntables1-bw2-test.png";var u=window.innerHeight-b,c=window.innerWidth*w.height/w.width,v=u-c;v=v<0?0:v;var p=v;window.addEventListener("resize",function(){n(b)},!1),window.addEventListener("scroll",function(){n(b)},!1),n(b)});
